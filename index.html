<!DOCTYPE html>
<html>
    <head>
        <title>Konva</title>
        <script src="lib/unpkg.com_konva@9.2.2_konva.min.js"></script>
        <script src="lib/lodash.min.js"></script>
        <script src="lib/bootstrap.min.js"></script>
        <script src="lib/moment.min.js"></script>
        <link rel="stylesheet" href="css/bootstrap-icons.css">
        <link rel="stylesheet" href="css/bootstrap.min.css">
        <link rel="stylesheet" href="css/style.css">
    </head>

    <style>

        #actions-wrapper {
            font-size: .7em;
        }
        
        #actions-wrapper ul{
            list-style: none;
        }

        #actions-wrapper ul li{
            padding-bottom: 1em;
        }

        #actions-wrapper ul li div.last{
            background-color: #b6eddb;
        }

        body #info{
            bottom: 10px;
            top: auto;
        }

        #visible-area{
            position: absolute;
            top: 0px;
            left: 0px;
            border: 2px dashed green;
            background-color: transparent;
            width: 1024px;
            height: 768px;
        }

    </style>

    <body>
        
        <div id="info">nothing selected</div>

        <div id="menu" class="header menu">
            <div class="container-fluid">
                <div style="display: flex; flex-direction: row; width: 100%; gap: 2em; align-items:stretch; justify-content: flex-start;">
                    <div class="" id="rotate" style="display: flex; align-items: flex-start; justify-content: flex-start; gap: .25em;">
                        <button class="btn btn-primary" id="bRotateRight"><i class="bi bi-arrow-clockwise"></i></button>
                        <button  class="btn btn-primary" id="bRotateLeft"><i class="bi bi-arrow-counterclockwise"></i></button>
                        <button class="btn btn-primary" id="bZoomIn"><i class="bi bi-zoom-in"></i></button>
                        <button  class="btn btn-primary" id="bZoomOut"><i class="bi bi-zoom-out"></i></button>
                        <button  class="btn btn-danger" id="bDelete"><i class="bi bi-trash"></i></button>
                    </div>
                    <div class="" style="display: flex; align-items: flex-start; justify-content: flex-start; gap: .25em;">
                        <div id="create">
                            <select id="addTrackType"></select><br/>
                            <!-- <input class="create-scale" id="selHeight" maxlength="3" type="text"> -->
                            <div id="create-scale" class="input-group input-group-sm mb-3">
                                <div class="input-group-prepend">
                                <span class="input-group-text" id="label-width">W/H</span>
                                </div>
                                <input class="form-control" value="2" aria-label="width" aria-describedby="label-width" id="addTrackWidth" maxlength="2" type="text">
                                <input class="form-control" value="6" aria-label="height" aria-describedby="label-width" id="addTrackHeight" maxlength="2" type="text">
                                <button class="btn btn-primary" id="bAddTrack">add</button>
                            </div>                                          
                        </div>
                    </div>
                    <div class="" style="display: flex; align-items: flex-start; justify-content: flex-start; gap: .25em;">
                        <button class="btn btn-secondary" title="quicksave" id="bSaveStage"><i class="bi bi-cloud-arrow-down"></i></button>
                        <button class="btn btn-secondary" title="quickload" disabled="1" id="bRestoreStage"><i class="bi bi-cloud-arrow-up"></i></button>
                        <button class="btn btn-secondary" title="undo" disabled="1" id="bBack"><i class="bi bi-arrow-left-circle"></i></button>
                        <button class="btn btn-secondary" title="redo" disabled="1" id="bForward"><i class="bi bi-arrow-right-circle"></i></button>
                    </div>
                    <div style="display: flex; flex-direction: column;  gap: .25em;">
                        <button class="btn btn-primary" id="bDownloadLogData" title="download logs" style="display: flex; align-items: baseline; gap: 1em;"><i class="bi bi-list-task"></i><span>Download logdata (events only)</span></button>
                        <button class="btn btn-primary" id="bDownloadLogDataComplete" title="download logs" style="display: flex; align-items: baseline; gap: 1em;"><i class="bi bi-list-task"></i><span>Download logdata (complete)</span></button>
                    </div>
                </div>
            </div>
        </div>

        <div style="display: flex; flex-direction: row; gap: 2em;">
            <div id="wrapper-outer" style="width: 1024px; height: 768px; overflow:hidden;">
                <div id="wrapper-inner" style="transform-origin: top left;">
                    <div id="container"></div>
                </div>
            </div>
            <div id="actions-wrapper">
                <div id="actions">
                    <traintrack-replay-log id="log"></traintrack-log>
                </div>
            </div>
        </div>
        
    </body>
    <script src="index.js" type="module"></script>
</html>